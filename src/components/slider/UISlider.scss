@use "../../assets/styles/abstracts/variables" as *;
@use "../../assets/styles/abstracts/breakpoints" as *;

.slider {
    position: relative;

    &__label {
        margin-bottom: 2.4rem;
        font-family: "Gilroy", sans-serif;
        font-style: normal;
        font-weight: 400;
        font-size: 1.6rem;
        transition: opacity 0.2s ease-in-out;

        @include media(">=small", "<medium") {
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
        }

        @include media("<small") {
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
        }
    }

    &__text-wrapper {
        display: flex;
        flex-direction: row;
        align-items: center;
        width: 100%;
        padding: 1rem 2.4rem;
        background: $light-gray-bg-color;
        border-radius: 1.6rem;
        border: 2px solid $light-gray-bg-color;
        transition: background 0.2s ease-in-out, border 0.2s ease-in-out;
        outline: none;

        &:focus-within {
            border: 2px solid $light-gray-bg-color;
            background: $white-color;
        }
    }

    &__input-text {
        width: 100%;
        background: transparent;
        border: none;
        outline: none;
        color: $gray-color;

        font-family: "Nekst", sans-serif;
        font-style: normal;
        font-weight: 900;
        font-size: 3rem;

        @include media(">=small", "<medium") {
            font-size: 2.2rem;
        }

        @include media("<small") {
            font-size: 2.2rem;
        }
    }

    &__text {
        margin: 1.6rem 2.4rem;

        &--percents {
            width: 69px;
            height: 54px;
            background: #ebebec;
            border-radius: 16px;
            position: absolute;
            right: -16px;
            font-size: 20px;
            padding: 15px 17px;
            line-height: 120%;

            @include media(">=small", "<medium") {
                font-size: 2.2rem;
            }

            @include media("<small") {
                font-size: 2.2rem;
            }
        }
    }

    &__input-mark {
        font-family: "Nekst", sans-serif;
        font-style: normal;
        font-weight: 900;
        font-size: 3rem;
        color: $gray-color;

        @include media(">=small", "<medium") {
            font-size: 2.2rem;
        }

        @include media("<small") {
            font-size: 2.2rem;
        }
    }

    &__range-wrapper {
        position: absolute;
        width: 100%;
        padding: 0 2.4rem;
        top: 100%;
        translate: 0 -85%;
    }

    &__input-range {
        -webkit-appearance: none;
        width: 100%;
        height: 0.2rem;
        outline: none;
        border-radius: 0.5rem;
        margin: 0;
        background-color: $slider-bg-bar-color;
        background-image: linear-gradient($orange-bg-color, $orange-bg-color);
        background-size: 50%;
        background-repeat: no-repeat;

        &::-webkit-slider-thumb {
            height: 2rem;
            width: 2rem;
            -webkit-appearance: none;
            border-radius: 50%;
            background: $orange-bg-color;
            box-shadow: 0 0 2px 0 #555;
            transition: background 0.3s ease-in-out, scale 0.3s ease-in-out;

            &:hover {
                cursor: pointer;
                scale: 122%;
            }
        }

        &::-moz-range-thumb {
            height: 2rem;
            width: 2rem;
            -webkit-appearance: none;
            border-radius: 50%;
            background: $orange-bg-color;
            box-shadow: 0 0 2px 0 #555;
            transition: background 0.3s ease-in-out, scale 0.3s ease-in-out;

            &:hover {
                cursor: pointer;
                scale: 122%;
            }
        }

        &::-ms-thumb {
            height: 2rem;
            width: 2rem;
            -webkit-appearance: none;
            border-radius: 50%;
            background: $orange-bg-color;
            box-shadow: 0 0 2px 0 #555;
            transition: background 0.3s ease-in-out, scale 0.3s ease-in-out;

            &:hover {
                scale: 122%;
            }

        }
        
        @keyframes resize {
            0% {
                height: 2.1rem;
                width: 2.1rem;
            }

            25% {
                height: 2.2rem;
                width: 2.2rem;
            }

            50% {
                height: 2.3rem;
                width: 2.3rem;
            }

            100% {
                height: 2.4rem;
                width: 2.4rem;
            }
        }

        &::-webkit-slider-runnable-track {
            -webkit-appearance: none;
            box-shadow: none;
            border: none;
            outline: none;
            background: transparent;
        }

        &::-moz-range-track {
            -webkit-appearance: none;
            box-shadow: none;
            border: none;
            outline: none;
            background: transparent;
        }

        &::-ms-track {
            -webkit-appearance: none;
            box-shadow: none;
            border: none;
            outline: none;
            background: transparent;
        }
    }
}

.slider-disabled {
    opacity: 0.5;
}